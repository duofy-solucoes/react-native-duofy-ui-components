var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _outline=require("react-native-heroicons/outline");var _Text=_interopRequireDefault(require("../Text"));var _utils=require("./utils");var _styles=require("./styles");var _jsxFileName="/home/tiagoangelods/projects/tas.digital/react-native-duofy-ui-components/src/components/Input/index.tsx";var _excluded=["type","onError","customIcon","onIconClick","onChangeText","onFocus","onBlur","pattern","label","caption","testID","styleLabel","styleInput","styleContainer"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}function InputComponent(props,inputRef){var _props$type=props.type,type=_props$type===void 0?'text':_props$type,onError=props.onError,customIcon=props.customIcon,_props$onIconClick=props.onIconClick,onIconClick=_props$onIconClick===void 0?function(){}:_props$onIconClick,onChangeText=props.onChangeText,onFocus=props.onFocus,onBlur=props.onBlur,pattern=props.pattern,label=props.label,caption=props.caption,testID=props.testID,_props$styleLabel=props.styleLabel,styleLabel=_props$styleLabel===void 0?{}:_props$styleLabel,_props$styleInput=props.styleInput,styleInput=_props$styleInput===void 0?{}:_props$styleInput,_props$styleContainer=props.styleContainer,styleContainer=_props$styleContainer===void 0?{}:_props$styleContainer,rest=(0,_objectWithoutProperties2.default)(props,_excluded);var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2.default)(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=(0,_slicedToArray2.default)(_useState3,2),isValid=_useState4[0],setIsValid=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2.default)(_useState5,2),visiblePassword=_useState6[0],setVisiblePassword=_useState6[1];var _getKeyboardType=(0,_utils.getKeyboardType)(type),inputType=_getKeyboardType.inputType,keyboardType=_getKeyboardType.keyboardType;var isPasswordField=type==='password';var isSearchField=type==='search'||customIcon!==undefined;var IconActive=isPasswordField||isSearchField||false;var customPattern=pattern||(0,_utils.getCustomPattern)(inputType||type);var iconClickFunction=isPasswordField?function(){return setVisiblePassword(!visiblePassword);}:onIconClick;var style=(0,_styles.getStyles)({onError:onError,isValid:isValid,isActive:isActive});var handleChange=function handleChange(changeValue){setIsValid((0,_utils.handleValidation)(changeValue,customPattern));isValid&&onChangeText&&onChangeText(changeValue);};var handleFocus=function handleFocus(e){setIsActive(true);onFocus&&onFocus(e);};var handleBlur=function handleBlur(e){setIsActive(false);onBlur&&onBlur(e);};return _react.default.createElement(_reactNative.View,{testID:testID||'input-component',style:style.inputContainer,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:5}},label&&_react.default.createElement(_Text.default,{style:[style.label,styleLabel],text:label,weight:"medium",size:"regular",brandColor:"black",opacity:"primary",__source:{fileName:_jsxFileName,lineNumber:88,columnNumber:9}}),_react.default.createElement(_reactNative.View,{style:[style.container,styleContainer],__source:{fileName:_jsxFileName,lineNumber:97,columnNumber:7}},_react.default.createElement(_reactNative.TextInput,(0,_extends2.default)({},rest,{ref:inputRef,autoCapitalize:"none",style:[style.input,styleInput],inputMode:inputType,keyboardType:keyboardType,placeholderTextColor:"rgba(13, 16, 16, .6)",secureTextEntry:isPasswordField&&!visiblePassword,onChangeText:handleChange,onFocus:handleFocus,onBlur:handleBlur,__source:{fileName:_jsxFileName,lineNumber:98,columnNumber:9}})),IconActive&&_react.default.createElement(_reactNative.TouchableOpacity,{style:style.icon,onPress:iconClickFunction,__source:{fileName:_jsxFileName,lineNumber:112,columnNumber:11}},isPasswordField&&!visiblePassword&&_react.default.createElement(_outline.EyeIcon,{color:"rgba(13, 16, 16, 0.4)",__source:{fileName:_jsxFileName,lineNumber:114,columnNumber:15}}),isPasswordField&&visiblePassword&&_react.default.createElement(_outline.EyeSlashIcon,{color:"rgba(13, 16, 16, 0.4)",__source:{fileName:_jsxFileName,lineNumber:117,columnNumber:15}}),isSearchField&&!customIcon&&_react.default.createElement(_outline.MagnifyingGlassIcon,{color:"rgba(13, 16, 16, 0.4)",__source:{fileName:_jsxFileName,lineNumber:120,columnNumber:15}}),isSearchField&&customIcon)),caption&&_react.default.createElement(_Text.default,{style:style.caption,text:caption,weight:"regular",size:"small",color:onError?'red':'',brandColor:!onError?'black':'',opacity:!onError?'lighter':'dark',__source:{fileName:_jsxFileName,lineNumber:127,columnNumber:9}}));}var _default=exports.default=_react.default.forwardRef(InputComponent);
//# sourceMappingURL=index.js.map