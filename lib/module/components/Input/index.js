import _extends from"@babel/runtime/helpers/extends";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _jsxFileName="/home/tiagoangelods/projects/tas.digital/react-native-duofy-ui-components/src/components/Input/index.tsx";var _excluded=["type","onError","customIcon","onIconClick","onChangeText","onFocus","onBlur","pattern","label","caption","testID","styleLabel","styleInput","styleContainer"];import React,{useState}from'react';import{TextInput,View,TouchableOpacity}from'react-native';import{EyeIcon,EyeSlashIcon,MagnifyingGlassIcon}from'react-native-heroicons/outline';import Text from'../Text';import{getCustomPattern,getKeyboardType,handleValidation}from'./utils';import{getStyles}from'./styles';function InputComponent(props,inputRef){var _props$type=props.type,type=_props$type===void 0?'text':_props$type,onError=props.onError,customIcon=props.customIcon,_props$onIconClick=props.onIconClick,onIconClick=_props$onIconClick===void 0?function(){}:_props$onIconClick,onChangeText=props.onChangeText,onFocus=props.onFocus,onBlur=props.onBlur,pattern=props.pattern,label=props.label,caption=props.caption,testID=props.testID,_props$styleLabel=props.styleLabel,styleLabel=_props$styleLabel===void 0?{}:_props$styleLabel,_props$styleInput=props.styleInput,styleInput=_props$styleInput===void 0?{}:_props$styleInput,_props$styleContainer=props.styleContainer,styleContainer=_props$styleContainer===void 0?{}:_props$styleContainer,rest=_objectWithoutProperties(props,_excluded);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isValid=_useState4[0],setIsValid=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),visiblePassword=_useState6[0],setVisiblePassword=_useState6[1];var _getKeyboardType=getKeyboardType(type),inputType=_getKeyboardType.inputType,keyboardType=_getKeyboardType.keyboardType;var isPasswordField=type==='password';var isSearchField=type==='search'||customIcon!==undefined;var IconActive=isPasswordField||isSearchField||false;var customPattern=pattern||getCustomPattern(inputType||type);var iconClickFunction=isPasswordField?function(){return setVisiblePassword(!visiblePassword);}:onIconClick;var style=getStyles({onError:onError,isValid:isValid,isActive:isActive});var handleChange=function handleChange(changeValue){setIsValid(handleValidation(changeValue,customPattern));isValid&&onChangeText&&onChangeText(changeValue);};var handleFocus=function handleFocus(e){setIsActive(true);onFocus&&onFocus(e);};var handleBlur=function handleBlur(e){setIsActive(false);onBlur&&onBlur(e);};return React.createElement(View,{testID:testID||'input-component',style:style.inputContainer,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:5}},label&&React.createElement(Text,{style:[style.label,styleLabel],text:label,weight:"medium",size:"regular",brandColor:"black",opacity:"primary",__source:{fileName:_jsxFileName,lineNumber:88,columnNumber:9}}),React.createElement(View,{style:[style.container,styleContainer],__source:{fileName:_jsxFileName,lineNumber:97,columnNumber:7}},React.createElement(TextInput,_extends({},rest,{ref:inputRef,autoCapitalize:"none",style:[style.input,styleInput],inputMode:inputType,keyboardType:keyboardType,placeholderTextColor:"rgba(13, 16, 16, .6)",secureTextEntry:isPasswordField&&!visiblePassword,onChangeText:handleChange,onFocus:handleFocus,onBlur:handleBlur,__source:{fileName:_jsxFileName,lineNumber:98,columnNumber:9}})),IconActive&&React.createElement(TouchableOpacity,{style:style.icon,onPress:iconClickFunction,__source:{fileName:_jsxFileName,lineNumber:112,columnNumber:11}},isPasswordField&&!visiblePassword&&React.createElement(EyeIcon,{color:"rgba(13, 16, 16, 0.4)",__source:{fileName:_jsxFileName,lineNumber:114,columnNumber:15}}),isPasswordField&&visiblePassword&&React.createElement(EyeSlashIcon,{color:"rgba(13, 16, 16, 0.4)",__source:{fileName:_jsxFileName,lineNumber:117,columnNumber:15}}),isSearchField&&!customIcon&&React.createElement(MagnifyingGlassIcon,{color:"rgba(13, 16, 16, 0.4)",__source:{fileName:_jsxFileName,lineNumber:120,columnNumber:15}}),isSearchField&&customIcon)),caption&&React.createElement(Text,{style:style.caption,text:caption,weight:"regular",size:"small",color:onError?'red':'',brandColor:!onError?'black':'',opacity:!onError?'lighter':'dark',__source:{fileName:_jsxFileName,lineNumber:127,columnNumber:9}}));}export default React.forwardRef(InputComponent);
//# sourceMappingURL=index.js.map